{"entries":[{"timestamp":1763373899866,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":185,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":33,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":221,"length1":58,"diffs":[[1,"        \"README.md\"\n"]]},{"start1":248,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1763455869622,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":237,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>"]]}]}]},{"timestamp":1763456233357,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":286,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// testene settes inn her; disse vil ikke kompilert så lenge denne pakken blir brukt som en utvidelse.\n"}]}],"snapshots":[{"timestamp":1763373899865,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"CanSat Øvinger - Tutorial\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1763391382193,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"basic.forever(function () {\n\t\n})\n","README.md":"","CanSat_ovinger_Tutorial.md":"# ControllerPAD Tutorial\n\n## Del 1: @unplugged\n\n### CanSat Øvingsoppgaver @unplugged\n\nI denne veiledningen skal vi gå gjennom grunnleggende funksjoner som dere får bruk for når dere skal programmere en CanSat. \n\nOppgaver dere skal løse er:\n- Få et LED-lys til å blinke ved koble det til pins på micro:betingelse\n- Lage en nedtelling ved hjelp av for-løkker \n- Lese analogverdi fra en TMP36 (Temperatursensor) og konvertere disse til temperaturverdier\n\nLykke til!\n\n![Controller-PAD.jpg](https://i.postimg.cc/VLM3HRrK/Controller-PAD.jpg)\n\n\n## Del 1.1: @unplugged\n\n### Oppgave 1 - Koble LED-lys til CanSat\n\nKoble opp kretsen som vist på bildet under.\n\n![Controller-PAD.jpg](https://i.postimg.cc/VLM3HRrK/Controller-PAD.jpg)\n\n\n## Del 1.2:\n\n### Sjekke ArmStatus på kofferten\n\nInni ``||basic: Gjenta for alltid||``:\n\nSett opp en ``||logic: hvis-betingelse ||`` som sjekker om Software Arm Switch (``||pins: les digitalverdi P1 ||``) er 0. \n\nHvis ``||pins: P1 = 0 ||``, sett variabelen ``||variabel: ArmStatus ||`` til ``||logic: sann||``, ellers sett ``||variabel: ArmStatus ||`` til ``||logic: usann||``.\n\n```blocks\nbasic.forever(function on_forever() {\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    } \n})\n```\n\n## Del 1.3:\n\n### Sjekke om Launch-knappen er trykket ned\n\nLag en ny ``||logic: hvis-betingelse ||`` som sjekker om Launch-button (``||pins: les digitalverdi P11 ||``) er 0. \n\nHvis den er det, kjør funksjonen ``||functions: Launch||``.\n\n```blocks\nbasic.forever(function on_forever() {\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    } \n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n})\nfunction Launch () {\n\t\n}\n```\n\n## Del 1.4:\n\n### Launch-kommando kun ved armering\n\nLaunch-kommandoen skal kun få bli sendt hvis ``||variabel: ArmStatus ||`` er ``||logic: Sann ||``.\n\nKommandoen skal sendes med radio til LaunchPAD. Send ``||radio: radio send tall 42 ||``.\n\n```blocks\nfunction Launch () {\n\tif (ArmStatus) {\n        radio.sendNumber(42)\n    }\n}\n```\n\n## Del 1.5:\n\n### Buzzer som varsler om oppskytning\n\nFor å si ifra til omgivelsene at systemet er armert, skal vi skru PÅ Buzzer (``||pins: skriv digital til P13 = 1 ||``) når ``||variabel: ArmStatus ||`` er ``||logic: sann ||``, og AV når ``||variabel: ArmStatus ||`` er ``||logic: usann ||``. \n\nSkru AV Buzzer (``||pins: skriv digital til P13 = 0 ||``) etter du har sendt Launch-kommando.\n\n```blocks\nbasic.forever(function on_forever() {\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n        pins.digitalWritePin(DigitalPin.P13, 1)\n    } else {\n        ArmStatus = false\n        pins.digitalWritePin(DigitalPin.P13, 0)\n    } \n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n})\nfunction Launch () {\n\tif (ArmStatus) {\n        radio.sendNumber(42)\n        pins.digitalWritePin(DigitalPin.P13, 0)   \n    }\n}\n```\n\n## Del 1.6:\n\n### Rearmere kofferten før ny oppskytning\n\nKofferten får ikke skyte opp en ny rakett før den er rearmert. (Armeringsbryteren må skrus AV.)\n\nSå for å \"låse\" kofferten etter at Launch-kommandoen er sendt, bruk en ``||loops: gjenta hvis sann ||``, og sett rearm-LED ``||pins: skriv digital til P8 ||`` til å blinke så lenge ``||pins: les digital P1 = 0 ||``.\n\nBruk en ``||basic: pause ||`` på 500 ms mellom hver gang ``||pins: P8 ||`` er 1 og 0.\n\n```blocks\nfunction Launch () {\n\tif (ArmStatus) {\n        radio.sendNumber(42)\n        pins.digitalWritePin(DigitalPin.P13, 0)\n        while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n            pins.digitalWritePin(DigitalPin.P8, 1)\n            basic.pause(500)\n            pins.digitalWritePin(DigitalPin.P8, 0)\n            basic.pause(500)\n        }\n    }\n}\n```\n\n## Del 1.7:\n\n### Bytte Tutorial\n\nGratulerer! Vi er nå ferdige med å lage MÅ-koden på ControllerPAD!\n\nBytt veiledning, og start å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n\n## Del 1.2: \n\n### Ved start - resten\n\nFor å vise status på systemene på kofferten, bruker vi NeoPixels. Det skal brukes 5 NeoPixels på ``||pins: digital pin P0||``.\n\nSkriv også at ``||pins: digital pin P15 = 1||``. Dette er lyset på Status Check-knappen på kofferten.\n\n```blocks\nradio.setGroup(1)\nradio.setTransmitPower(7)\nlet strip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\npins.digitalWritePin(DigitalPin.P15, 1)\n```\n\n## Del 2: @unplugged\n\n### Initialize\n\nVi skal lage en funksjon for kofferten som heter ``||functions: Initialize||``. \n\nFunksjonen skal kjøres hver gang vi skrur på ControllerPAD og hver gang vi rearmerer kofferten etter en oppskytning. \n\n``||functions: Initialize||`` sin oppgave er å nullstille rakettkofferten slik at alle systemer stilles tilbake eller skrus av.\n\n![Initialize.gif](https://i.postimg.cc/rFfWbdvN/Initialize.gif)\n\n\n## Del 2.1\n\n### Initialize oppsett: \n\nFor å kjøre oppstartsekvensen til RocketLink-M, må vi lage en funksjon som vi kaller: ``||functions: Initialize||``.\n\nDet er flere steder i koden vår vi skal kalle opp ``||functions: Initialize||``. Den første er i ``||basic: ved start||``.\n\n```blocks\nradio.setGroup(1)\nradio.setTransmitPower(7)\nlet strip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\npins.digitalWritePin(DigitalPin.P15, 1)\nInitialize()\nfunction Initialize () {\n\t\n}\n```\n\n## Del 2.2: \n\n### Initialize funksjon:\n\nDet første vi må gjøre inne i ``||functions: Initialize||`` er å lage 6 variabler: ``||variable: SelfStatus||``, ``||variable: LinkStatus||``, ``||variable: ArmStatus||``, ``||variable: IgniterStatusLP||``, ``||variable: ArmStatusLP||`` og ``||variable: Klar||``.\n\n``||variable: SelfStatus||`` sjekker om kofferten er på, ``||variable: LinkStatus||`` sjekker om det er kontakt med LaunchPAD, ``||variable: ArmStatus||`` sjekker om Arm-knappen er skrudd på, ``||variable: IgniterStatusLP||`` sjekker om raketten er koblet riktig til LaunchPAD, ``||variable: ArmStatusLP||`` sjekker om Arm-knappen er aktivert på LaunchPAD og ``||variable: Klar||`` sjekker om alle systemene på kofferten er på.\n\nSett alle disse 6 variablene til er være ``||logic: usann||``. \n\n| Variabel ||||| Status |\n|:---------|||||:------:|\n| SelfStatus ||||| Usann |\n| LinkStatus ||||| Usann |\n| ArmStatus ||||| Usann |\n| IgniterStatusLP ||||| Usann |\n| ArmStatusLP ||||| Usann |\n| Klar ||||| Usann |\n\n\n```blocks\nlet SelfStatus = false\nlet LinkStatus = false\nlet ArmStatus = false\nlet IgniterStatusLP = false\nlet ArmStatusLP = false\nlet Klar = false\nfunction Initialize () {\n\tSelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    IgniterStatusLP = false\n    ArmStatusLP = false\n    Klar = false\n}\n```\n\n## Del 2.3: \n\n### Initialize - NeoPixels:\n\nVidere inne i ``||functions: Initialize||`` skal vi teste lysene på NeoPixel strip. Sett alle lysene til å lyse lilla (``||neopixel: Purple||``).\n\n```blocks\nlet strip: neopixel.Strip = null\nlet SelfStatus = false\nlet LinkStatus = false\nlet ArmStatus = false\nlet IgniterStatusLP = false\nlet ArmStatusLP = false\nlet Klar = false\nfunction Initialize () {\n\tSelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    IgniterStatusLP = false\n    ArmStatusLP = false\n    Klar = false\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n}\n```\n\n## Del 2.4: \n\n### Initialize - animasjon:\n\nVi lager en liten animasjon på skjermen til micro:bit under oppstartsekvensen. Du kan velge selv hvordan den skal se ut. (Hint: Dette er kun et forslag.)\n\nEtter animasjonen skal alle lysene settes til å lyse Rødt (``||neopixel: Rød||``)\n\nAvslutt med en liten ``||basic: pause||`` på 200 ms.\n\n```blocks\nlet strip: neopixel.Strip = null\nlet SelfStatus = false\nlet LinkStatus = false\nlet ArmStatus = false\nlet IgniterStatusLP = false\nlet ArmStatusLP = false\nlet Klar = false\nfunction Initialize () {\n\tSelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    IgniterStatusLP = false\n    ArmStatusLP = false\n    Klar = false\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple)) \n    basic.showLeds(`\n    . . . . .\n    . . . . .\n    . . # . .\n    . . . . .\n    . . . . .\n    `)\n    basic.showLeds(`\n    . . . . .\n    . # # # .\n    . # . # .\n    . # # # .\n    . . . . .\n    `)\n    basic.showLeds(`\n    # # # # #\n    # . . . #\n    # . . . #\n    # . . . #\n    # # # # #\n    `)\n    basic.showLeds(`\n    # . . . #\n    # # . # #\n    # . # . #\n    # . . . #\n    # . . . #\n    `)\n    strip.showColor(neopixel.colors(NeoPixelColors.Red)) \n    basic.pause(200)\n}\n```\n\n## Del 2.5:\n\n### Teste Initialize!\n\n``||math: Last ned||`` koden på en micro:bit og sjekk at oppstartsekvensen kjøres på ControllerPAD-kofferten.\n\n## Del 2.6: @unplugged\n\n### Bytte Tutorial\n\nVi skal nå bytte veiledning, og starte å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n## Del 3: @unplugged \n\n### StatusCheck med NeoPixels\n\nVi skal fortsette på koden som styrer ControllerPAD.\n\nLage en funksjon for kofferten som heter ``||functions: StatusCheck||``. \n\nFunksjonen skal sjekke statusen til de forskjellige systemene på ControllerPAD. \n\nDen skal sjekke ett og ett system av gangen, og teste hvert system når det er ferdig. For vise status på systemene skal vi bruke NeoPixels i kofferten.\n\n![System-Status-Controller-PAD.gif](https://i.postimg.cc/Rh2GqPLT/System-Status-Controller-PAD.gif)\n\n\n## Del 3.1: \n\n### Sette opp NeoPixels\n\nVi skal bruke en ny funksjon, ``||functions: NeoPixels||``, for å vise hvilken status de forskjellige systemene på kofferten har. Denne skal kalles opp fra bunn av ``||functions: StatusCheck||``.\n\nVi skal inidividuelt sjekke opp variablene: ``||variable: SelfStatus||``, ``||variable: LinkStatus||``, ``||variable: IgniterStatusLP||``, ``||variable: ArmStatusLP||`` og ``||variable: Klar||``.\n\nLag 5 ``||logic: Hvis-betingelser||`` med ``||logic: Ellers hvis||``, en for hver variabel. Hvis den er ``||logic: sann||``, skal Neopixel settes til grønn, ellers skal den være rød.\n\nAvslutt med å vise lysene: ``||neopixel: show||``\n\n| Variabel ||||| NeoPixel nr. |\n|:---------|||||:------:|\n| SelfStatus ||||| 0 |\n| LinkStatus ||||| 1 |\n| IgniterStatusLP ||||| 2 |\n| ArmStatusLP ||||| 3 |\n| Klar ||||| 4 |\n\n```blocks\nlet strip: neopixel.Strip = null\nfunction NeoPixels () {\n    if (SelfStatus) {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (LinkStatus) {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (IgniterStatusLP) {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (ArmStatusLP) {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (Klar) {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Red))\n    }\n    strip.show()\n}\nfunction StatusCheck () {\n    NeoPixels()\n}\n```\n\n## Del 3.2:\n\n### StatusCheck oppsett med SelfStatus\n\nFor at systemet vårt hele tiden skal sjekke om det skjer noen status-endringer, trenger vi å lage en ny funksjon: ``||functions: StatusCheck||``.\n\nDenne funksjonen skal kalles opp fra ``||basic: gjenta for alltid||``.\n\nNår vi kjører gjennom ``||function: StatusCheck||``, vet vi at variabelen``||variable: SelfStatus||`` er ``||logic: sann||``. (Kofferten er jo på...)\n\n\n```blocks\nbasic.forever(function () {\n    StatusCheck()\n})\nfunction StatusCheck () {\n    SelfStatus = true\n}\n```\n\n## Del 3.3:\n\n### Teste Initialize!\n\n``||math: Last ned||`` koden på en micro:bit og sjekk at status-lysene funker som de skal på ControllerPAD-kofferten.\n\n\n## Del 3.4: @unplugged\n\n### Bytte Tutorial\n\nVi skal nå bytte veiledning, og fortsette å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n## Del 4: @unplugged\n\n### Sjekke Linkstatus mellom rakettkoffertene:\n\nFor å kunne sjekke link mellom koffertene må bruke noe som kalles for «active sensing». \n\nBegge koffertene sender en radiomelding mellom seg med gitte intervaller som sier «Hei, jeg er ikke avskrudd». Men vi trenger noe som sier ifra hvis det har gått for lang tid siden sist vi fikk en radiomelding fra den andre kofferten.\n\n![Radio-mellom-rakettkoffertene.gif](https://i.postimg.cc/nL4Rtr4R/Radio-mellom-rakettkoffertene.gif)\n\n\n## Del 4.1: \n\n### Sjekke om radio-kommunikasjon funker:\n\nLag en ny variabel: ``||variable: sistSettAktiv||``. \n\nInni en ``||radio:når radio mottar receivedNumber||``: Hver gang vi mottar ``||radio: receivedNumber = 11||``,sett ``||variable: LinkStatus||`` til ``||logic: sann||`` og ``||variable: sistSettAktiv||`` til ``||input: kjøretid (ms)||``. \n\nI en micro:bit, kjører det en intern klokke som heter ``||input: kjøretid (ms)||``. Ved å sette ``||variable: sistSettAktiv||`` lik ``||input: kjøretid (ms)||`` ved gitte intervaller, kan vi lett se om tidsforskjellen mellom ``||variable: sistSettAktiv||`` og ``||input: kjøretid (ms)||`` blir større enn 3x gitt tidsinterval.\n\n```blocks\nradio.onReceivedNumber(function (receivedNumber) {\n    if (receivedNumber == 11){\n        LinkStatus = true\n        sistSettAktiv = input.runningTime()\n    }\n})\n```\n\n## Del 4.2: \n\n### Lage en oppdateringsfrekvens:\n\nLag en variabel som du kaller ``||variable: oppdateringsfrekvens||``. Sett den inn under  ``||basic: ved start||``, og la den være 200 ms.\n\n```blocks\nlet strip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\nradio.setGroup(1)\nradio.setTransmitPower(7)\npins.digitalWritePin(DigitalPin.P15, 1)\nlet oppdateringsfrekvens = 200\n```\n\n\n## Del 4.3: \n\n### Sjekke om den andre kofferten er skrudd av: \n\nFor å finne ut om kofferten har sluttet å motta signal fra den andre kofferten, må vi lage en liten funksjon som vi setter inn i  ``||control: kjør i bakgrunnen||``. (Finner du i menuen: Styring)\n\nInni her skal vi lage en  ``||loops: while-løkke||``. Denne løkken vil kjøre så lenge kofferten er på.\n\nInni ``||loops: while-løkken||`` skal vi send tallet 10 med radio. \n\nNå skal vi sjekke om den ene av koffertene ikke mottar et signal på 3x ``||variabel: oppdateringsfrekvens||``. Hvis den er lengre enn det, kan den regne med at den andre kofferten er skrudd av.\n\nVi skal sjekke om ``||input: kjøretid (ms)||`` minus (-) ``||variabel: sistSettAktiv||`` er større enn (>) 3x ``||variabel: oppdateringsfrekvens||``\n\nHvis dette er sant, skal: \n\n-  ``||variabel: LinkStatus||`` settes til ``||logic: usann||``\n-  ``||variabel: IgniterStatusLP||`` settes til ``||logic: usann||``\n-  ``||variabel: ArmStatusLP||`` settes til ``||logic: usann||``\n\nUtenfor ``||logic: hvis-betingelsen||``, avslutt med en ``||basic: pause||`` lik ``||variabel: oppdateringsfrekvens||``.\n\n\n```blocks\ncontrol.inBackground(function () {\n    while (true) {\n        radio.sendNumber(11)\n        if (input.runningTime() - sistSettAktiv > 3 * oppdateringsfrekvens) {\n            LinkStatus = false\n            IgniterStatusLP = false\n            ArmStatusLP = false\n        }\n    basic.pause(oppdateringsfrekvens)\n    }\n})\n```\n\n## Del 4.4: @unplugged\n\n### Bytte Tutorial\n\nVi må bygge funksjonen for ``||variable: LinkStatus||`` på LaunchPAD for å kunne teste den.\n\nBytt veiledning, og fortsett å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n## Del 5: @unplugged\n\n### Motta status fra LaunchPAD-kofferten og sette opp StatusCheck\n\nDet er to til statuser vi får fra LaunchPAD: ``||variabel: IgniterStatusLP||`` og ``||variabel: ArmStatusLP||``. (Disse to sjekker om igniterne er koblet ordentlig til raketten, og om Arm-knappen på LaunchPAD-kofferten er skrudd på.)\n\nVi skal nå sette opp hva som skal skje når vi mottar disse statusoppdateringene. \n\nVi skal også sette opp resten av funksjonene i StatusCheck.\n\n![Radio-mellom-rakettkoffertene.gif](https://i.postimg.cc/nL4Rtr4R/Radio-mellom-rakettkoffertene.gif)\n\n\n## Del 5.1: \n\n### Motta status på Igniter og Arm via radio\n\nVi må lage to ``||logic: Hvis-betingelse||`` med ``||logic: ellers hvis||`` som skal sjekket hver av disse statusene. \n\nSettes inn i ``||radio:når radio mottar receivedNumber||``:\n\n- Hvis ``||radio: receivedNumber = 21||``, er ``||variabel: IgniterStatusLP||`` ``||logic: sann||``. Ellers hvis ``||radio: receivedNumber = 22||``, er ``||variabel: IgniterStatusLP||`` ``||logic: usann||``.\n- Hvis ``||radio: receivedNumber = 31||``, er ``||variabel: ArmStatusLP||`` ``||logic: sann||``. Ellers hvis ``||radio: receivedNumber = 32||``, er ``||variabel: ArmStatusLP||`` ``||logic: usann||``.\n\n| Variabel | Radio Sann | Radio Usann |\n|:---------|:----------:|:-----------:|\n| IgniterStatusLP | 21 | 22 |\n| ArmStatusLP | 31 | 32 |\n\n```blocks\nradio.onReceivedNumber(function (receivedNumber) {\n    if (receivedNumber == 11){\n        LinkStatus = true\n        sistSettAktiv = input.runningTime()\n    }\n    if (receivedNumber == 21) {\n        IgniterStatusLP = true\n    } else if (receivedNumber == 22) {\n        IgniterStatusLP = false\n    }\n    if (receivedNumber == 31) {\n        ArmStatusLP = true\n    } else if (receivedNumber == 32) {\n        ArmStatusLP = false\n    }\n})\n```\n\n## Del 5.2: \n\n### StatusCheck - ArmStatus:\n\nVidere inni ``||function: StatusCheck||``, lag en ``||logic: hvis-betingelse||`` som skal lese av ``||pins: P1||`` (Arm-knappen). \n\n- Hvis ``||pins: P1||`` er lik 0, skal ``||variable: ArmStatus||`` settes til ``||logic: sann||``. Ellers skal ``||variable: ArmStatus||`` settes til ``||logic: usann||``.\n\n```blocks\nfunction StatusCheck () {\n\tSelfStatus = true\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    }\n}\n```\n\n## Del 5.3: \n\n### Fullføre StatusCheck\n\nFor å sjekke om alle systemene er klare for oppskytning, må vi lage en ``||logic: Hvis-betingelse||`` som sjekker om alle statusene vår er lik ``||logic: sann||``. Den skal settes inn i funksjonen ``||functions: StatusCheck||``.\n\nVi skal sjekke: ``||variable: SelfStatus||``, ``||variable: LinkStatus||``, ``||variable: ArmStatus||``, ``||variable: IgniterStatusLP||`` og ``||variable: ArmStatusLP||``.\n\nHvis alle statusene over er lik``||logic: sann||``, da skal ``||variable: Klar||`` settes lik ``||logic: sann||``. Eller lik ``||logic: usann||``. Legg ved et bilde på hvert at tilfellene for se om ``||variabel: Klar||`` er ``||logic: sann||`` eller ikke.\n\n```blocks\nfunction StatusCheck () {\n\tSelfStatus = true\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    }\n    if (SelvStatus && LinkStatus && ArmStatus && IgniterStatusLP && ArmStatusLP) {\n        Klar = true\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `)\n    } else {\n        Klar = false\n        basic.showLeds(`\n            # . . . #\n            # # . # #\n            # . # . #\n            # . . . #\n            # . . . #\n            `)\t\n    }\n}\n```\n\n## Del 5.4: \n\n### Oppdatere StatusCheck\n\nInni ``||basic: Gjenta for alltid||``:\n\nVi ønsker å kjøre en systemsjekk hver gang vi trykker ned knappen til System Status Check på kofferten. Når knappen trykkes ned, settes ``|pins: digital pin P5 ||`` til 0. \n\nSå hvis ``||pins: P5 = 0||``, skal alle NeoPixels bli ``||neopixel: røde||`` i 100 ms, og så skal vi kalle opp funksjonen ``||functions: StatusCheck||``.\n\n```blocks\nlet strip: neopixel.Strip = null\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n})\nfunction StatusCheck () {\n\t\n}\n```\n\n## Del 6: @unplugged\n\n### Oppskytning av raketten\n\nNå skal alle systemene på begge koffertene fungere, og vi er klare for å bygge funksjonene for å kunne skyte opp raketten!\n\n![Oppskytning-rakett-4.gif](https://i.postimg.cc/CxV5Qx0C/Oppskytning-rakett-4.gif)\n\n\n## Del 6.1: \n\n### Sette opp Launch-funksjon\n\nFor å kunne skyte opp raketten, trenger vi å lage en ny funksjonen som vi kaller ``||functions: Launch||``. \n\nI ``||basic: gjenta for alltid||`` skal vi lage en ``||logic: Hvis-betingelse||`` som sier at vi skal kalle opp funksjonen ``||functions: Launch||`` hvis ``||pins: skriver digital pin P11 = 0||``. \n\n```blocks\nlet strip: neopixel.Strip = null\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n})\nfunction StatusCheck () {\n\t\n}\nfunction Launch () {\n\t\n}\n```\n\n## Del 6.2: \n\n### Sende Launch-kommando:\n\nNår vi har trykket på Launch-knappen og satt ``||pins: skriver digital pin P11 = 0||``, hopper vi inn i ``||functions: Launch||``.\n\nLaunch-kommandoen inne i``||functions: Launch||`` skal kun få lov til å bli utført hvis ``||variabel: Klar||`` er ``||logic: sann||``.\n\nLag en pil på skjermen til microbiten for å vise at raketten blir skutt opp. Du må også sende en egen ``||radio: radio send tall||`` til LaunchPAD-kofferten. Vel et tall som ikke kan misforstås. Til slutt skal ``||variabel: Klar||`` settes til ``||logic: usann||``.\n\n```blocks\nfunction Launch () {\n    if (Klar) {\n\t    basic.showLeds(`\n        . . # . .\n        . # # # .\n        # . # . #\n        . . # . .\n        . . # . .\n        `)\n        radio.sendNumber(42)\n        Klar = false\n    }\n}\n```\n\n## Del 6.4: \n\n### Buzzer:\n\nFor å varsle at raketten skal skytes opp, skal en buzzer bli skrudd på når alle systemene er på og armerte.\n\nFor å få til dette må vi lage en liten ``||logic: Hvis-betingelse||`` inne i ``||basic: gjenta for alltid||`` som sier at ``||pins: P13||`` (Buzzer) og ``||pins: P14||`` (Launch Button LED) skal skrus på (settes til 1) når variabelen ``||variabel: Klar||`` er ``||logic: sann||``. Eller skal de skrus av (settes til 0).\n\n```blocks\nlet strip: neopixel.Strip = null\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n    if (Klar) {\n        pins.digitalWritePin(DigitalPin.P13, 1)\n        pins.digitalWritePin(DigitalPin.P14, 1) \n    } else {\n        pins.digitalWritePin(DigitalPin.P13, 0)\n        pins.digitalWritePin(DigitalPin.P14, 0)\n    }\n})\nfunction StatusCheck () {\n\t\n}\n```\n\n## Del 6.5: \n\n### BuzzerBlink-funksjon:\n\nEtter at raketten er skutt opp, skal vi få ``||pins: P13||`` (Buzzer) og ``||pins: P14||`` (Launch Button LED) til å tute og blinke 3 ganger.\n\nLag en ny funksjon: ``||functions: BuzzerBlink||``. Denne funksjonen skal kalles opp først inne i ``||functions: Launch||`` hvis ``||variabel: Klar||`` er ``||logic: sann||``.\n\nSett ``||pins: P13||`` og ``||pins: P14||`` til høy (1) og lav (0) 3 ganger, med 100 ms ``||basic: pause||`` mellom hver høy og lav.\n\n```blocks\nfunction BuzzerBlink () {\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n}\nfunction Launch () {\n    if (Klar) {\n        BuzzerBlink()\n        basic.showLeds(`\n            . . # . .\n            . # # # .\n            # . # . #\n            . . # . .\n            . . # . .\n            `)\n        radio.sendNumber(42)\n        Klar = false\n        Rearm()\n    }\n}\nfunction Rearm () {\n\t\n}\n```\n\n## Del 6.6: \n\n### Rearm av kofferten:\n\nNår vi har sendt opp raketten vår, skal vi ikke få lov til å sende opp en ny rakett før arm-bryteren er skrudd av igjen og systemet er resatt. \n\nFor å gjøre dette må vi lage en ny funksjon: ``||functions: Rearm||``. Den skal kalles opp fra bunnen i ``||functions: Launch||``.\n\nStart med å skru av lysene til NeoPixels. Så skal vi lage en ``||loops: while-løkke||`` som er aktiv så lange  ``||pins: digital pin P1 = 0||``.\n\nInni denne ``||loops: while-løkken||`` skal vi få skjermen på microbiten og Rearm LED til å blinke. Dette gjør vi ved å stru ``||pins: P8||`` AV (0) og PÅ (1), og få et leddlys på microbiten til å skru seg AV og PÅ.\n\n```blocks\nlet strip: neopixel.Strip = null\nfunction Rearm () {\n    strip.clear()\n    strip.show()\n    while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        pins.digitalWritePin(DigitalPin.P8, 0)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # . # .\n            . # # # .\n            . . . . .\n            `)\n        pins.digitalWritePin(DigitalPin.P8, 1)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # # # .\n            . # # # .\n            . . . . .\n            `)\n    }\n}\nfunction Launch () {\n    if (Klar) {\n\t    basic.showLeds(`\n        . . # . .\n        . # # # .\n        # . # . #\n        . . # . .\n        . . # . .\n        `)\n        radio.sendNumber(42)\n        Klar = false\n        Rearm()\n    }\n}\n```\n\n\n## Del 6.7: \n\n### Rearm-funksjonen etter rearmeringen:\n\nEtter at arm-knappen er skrudd av, vil vi hoppe ut av ``||loops: while-løkken||``. \n\nSkriv ``||pins:digital pin P8 = 0||``, sett NeoPixels til ``||neopixel: Purple||`` og ``||basic: tøm skjermen||`` til microbiten.\n\nAvslutt med en ``||basic: pause||`` i 200 ms. før vi kaller opp funksjonen ``||functions: Initialize||`` for å restarte rakett-kofferten.\n\n```blocks\nlet strip: neopixel.Strip = null\nfunction Rearm () {\n    strip.clear()\n    strip.show()\n    while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        pins.digitalWritePin(DigitalPin.P8, 0)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # . # .\n            . # # # .\n            . . . . .\n            `)\n        pins.digitalWritePin(DigitalPin.P8, 1)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # # # .\n            . # # # .\n            . . . . .\n            `)\n    }\n    pins.digitalWritePin(DigitalPin.P8, 0)\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n    basic.showLeds(`\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        `)\n    basic.pause(200)\n    Initialize()\n}\nfunction Initialize () {\n\t\n}\n```\n\n## Del 7: @unplugged\n\n### Bytte Tutorial\n\nControllerPAD er ferdig programmert!\n\nBytt veiledning, og fullfør koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n## Del 7:\n\n### Gratulerer! Du er nå ferdig å programmere ControllerPAD! \n\n``||math: Last ned||`` koden på en micro:bit og sjekk at den fungerer som den skal.\n\n```blocks\nlet Klar = false\nlet ArmStatus = false\nlet SelfStatus = false\nlet ArmStatusLP = false\nlet IgniterStatusLP = false\nlet sistSettAktiv = 0\nlet LinkStatus = false\nlet strip: neopixel.Strip = null\nstrip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\nradio.setGroup(1)\nradio.setTransmitPower(7)\npins.digitalWritePin(DigitalPin.P15, 1)\nlet oppdateringsfrekvens = 200\nInitialize()\nfunction Initialize () {\n    SelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    Klar = false\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n    basic.showLeds(`\n        . . . . .\n        . . . . .\n        . . # . .\n        . . . . .\n        . . . . .\n        `)\n    basic.showLeds(`\n        . . . . .\n        . # # # .\n        . # . # .\n        . # # # .\n        . . . . .\n        `)\n    basic.showLeds(`\n        # # # # #\n        # . . . #\n        # . . . #\n        # . . . #\n        # # # # #\n        `)\n    basic.showLeds(`\n        # . . . #\n        # # . # #\n        # . # . #\n        # . . . #\n        # . . . #\n        `)\n    strip.showColor(neopixel.colors(NeoPixelColors.Red))\n    basic.pause(200)\n}\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n    if (Klar) {\n        pins.digitalWritePin(DigitalPin.P13, 1)\n        pins.digitalWritePin(DigitalPin.P14, 1)\n    } else {\n        pins.digitalWritePin(DigitalPin.P13, 0)\n        pins.digitalWritePin(DigitalPin.P14, 0)\n    }\n    basic.pause(100)\n})\nfunction StatusCheck () {\n    SelfStatus = true\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    }\n    if (SelfStatus && LinkStatus && IgniterStatusLP && ArmStatusLP && ArmStatus) {\n        Klar = true\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `)\n    } else {\n        Klar = false\n        basic.showLeds(`\n            # . . . #\n            # # . # #\n            # . # . #\n            # . . . #\n            # . . . #\n            `)\n    }\n    NeoPixels()\n}\nfunction NeoPixels () {\n    if (SelfStatus) {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (LinkStatus) {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (IgniterStatusLP) {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (ArmStatusLP) {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (Klar) {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Red))\n    }\n    strip.show()\n}\nradio.onReceivedNumber(function (receivedNumber) {\n    if (receivedNumber == 11) {\n        LinkStatus = true\n        sistSettAktiv = input.runningTime()\n    }\n    if (receivedNumber == 21) {\n        IgniterStatusLP = true\n    } else if (receivedNumber == 22) {\n        IgniterStatusLP = false\n    }\n    if (receivedNumber == 31) {\n        ArmStatusLP = true\n    } else if (receivedNumber == 32) {\n        ArmStatusLP = false\n    }\n})\nfunction Launch () {\n    if (Klar) {\n        BuzzerBlink()\n        basic.showLeds(`\n            . . # . .\n            . # # # .\n            # . # . #\n            . . # . .\n            . . # . .\n            `)\n        radio.sendNumber(42)\n        Klar = false\n        Rearm()\n    }\n}\nfunction Rearm () {\n    strip.clear()\n    strip.show()\n    while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        pins.digitalWritePin(DigitalPin.P8, 0)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # . # .\n            . # # # .\n            . . . . .\n            `)\n        pins.digitalWritePin(DigitalPin.P8, 1)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # # # .\n            . # # # .\n            . . . . .\n            `)\n    }\n    pins.digitalWritePin(DigitalPin.P8, 0)\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n    basic.showLeds(`\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        `)\n    basic.pause(100)\n    Initialize()\n}\nfunction BuzzerBlink () {\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n}\ncontrol.inBackground(function () {\n    while (true) {\n        radio.sendNumber(11)\n        if (input.runningTime() - sistSettAktiv > 3 * oppdateringsfrekvens) {\n            LinkStatus = false\n            IgniterStatusLP = false\n            ArmStatusLP = false\n        }\n        basic.pause(oppdateringsfrekvens)\n    }\n})\n```\n\n\n```package\nneopixel=github:microsoft/pxt-neopixel#v0.7.3\n```\n","pxt.json":"{\n    \"name\": \"CanSat Øvinger - Tutorial\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"CanSat_ovinger_Tutorial.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1763455864205,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"basic.forever(function () {\n\t\n})\n","README.md":"","CanSat_ovinger_Tutorial.md":"# CanSat Øvinger Tutorial\n\n## Del 1: @unplugged\n\n### CanSat Øvingsoppgaver @unplugged\n\nI denne veiledningen skal vi gå gjennom grunnleggende funksjoner som dere får bruk for når dere skal programmere en CanSat. \n\nOppgaver dere skal løse er:\n- Få et LED-lys til å blinke ved koble det til pins på micro:betingelse\n- Lage en nedtelling ved hjelp av for-løkker \n- Lese analogverdi fra en TMP36 (Temperatursensor) og konvertere disse til temperaturverdier\n\nLykke til!\n\n![Controller-PAD.jpg](https://i.postimg.cc/VLM3HRrK/Controller-PAD.jpg)\n\n\n## Del 1.1: @unplugged\n\n### Oppgave 1 - Koble LED-lys til CanSat\n\nKoble opp kretsen som vist på bildet under.\n\n![Controller-PAD.jpg](https://i.postimg.cc/VLM3HRrK/Controller-PAD.jpg)\n\n\n## Del 1.2:\n\n### Sjekke ArmStatus på kofferten\n\nInni ``||basic: Gjenta for alltid||``:\n\nSett opp en ``||logic: hvis-betingelse ||`` som sjekker om Software Arm Switch (``||pins: les digitalverdi P1 ||``) er 0. \n\nHvis ``||pins: P1 = 0 ||``, sett variabelen ``||variabel: ArmStatus ||`` til ``||logic: sann||``, ellers sett ``||variabel: ArmStatus ||`` til ``||logic: usann||``.\n\n```blocks\nbasic.forever(function on_forever() {\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    } \n})\n```\n\n## Del 1.3:\n\n### Sjekke om Launch-knappen er trykket ned\n\nLag en ny ``||logic: hvis-betingelse ||`` som sjekker om Launch-button (``||pins: les digitalverdi P11 ||``) er 0. \n\nHvis den er det, kjør funksjonen ``||functions: Launch||``.\n\n```blocks\nbasic.forever(function on_forever() {\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    } \n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n})\nfunction Launch () {\n\t\n}\n```\n\n## Del 1.4:\n\n### Launch-kommando kun ved armering\n\nLaunch-kommandoen skal kun få bli sendt hvis ``||variabel: ArmStatus ||`` er ``||logic: Sann ||``.\n\nKommandoen skal sendes med radio til LaunchPAD. Send ``||radio: radio send tall 42 ||``.\n\n```blocks\nfunction Launch () {\n\tif (ArmStatus) {\n        radio.sendNumber(42)\n    }\n}\n```\n\n## Del 1.5:\n\n### Buzzer som varsler om oppskytning\n\nFor å si ifra til omgivelsene at systemet er armert, skal vi skru PÅ Buzzer (``||pins: skriv digital til P13 = 1 ||``) når ``||variabel: ArmStatus ||`` er ``||logic: sann ||``, og AV når ``||variabel: ArmStatus ||`` er ``||logic: usann ||``. \n\nSkru AV Buzzer (``||pins: skriv digital til P13 = 0 ||``) etter du har sendt Launch-kommando.\n\n```blocks\nbasic.forever(function on_forever() {\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n        pins.digitalWritePin(DigitalPin.P13, 1)\n    } else {\n        ArmStatus = false\n        pins.digitalWritePin(DigitalPin.P13, 0)\n    } \n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n})\nfunction Launch () {\n\tif (ArmStatus) {\n        radio.sendNumber(42)\n        pins.digitalWritePin(DigitalPin.P13, 0)   \n    }\n}\n```\n\n## Del 1.6:\n\n### Rearmere kofferten før ny oppskytning\n\nKofferten får ikke skyte opp en ny rakett før den er rearmert. (Armeringsbryteren må skrus AV.)\n\nSå for å \"låse\" kofferten etter at Launch-kommandoen er sendt, bruk en ``||loops: gjenta hvis sann ||``, og sett rearm-LED ``||pins: skriv digital til P8 ||`` til å blinke så lenge ``||pins: les digital P1 = 0 ||``.\n\nBruk en ``||basic: pause ||`` på 500 ms mellom hver gang ``||pins: P8 ||`` er 1 og 0.\n\n```blocks\nfunction Launch () {\n\tif (ArmStatus) {\n        radio.sendNumber(42)\n        pins.digitalWritePin(DigitalPin.P13, 0)\n        while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n            pins.digitalWritePin(DigitalPin.P8, 1)\n            basic.pause(500)\n            pins.digitalWritePin(DigitalPin.P8, 0)\n            basic.pause(500)\n        }\n    }\n}\n```\n\n## Del 1.7:\n\n### Bytte Tutorial\n\nGratulerer! Vi er nå ferdige med å lage MÅ-koden på ControllerPAD!\n\nBytt veiledning, og start å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n\n## Del 1.2: \n\n### Ved start - resten\n\nFor å vise status på systemene på kofferten, bruker vi NeoPixels. Det skal brukes 5 NeoPixels på ``||pins: digital pin P0||``.\n\nSkriv også at ``||pins: digital pin P15 = 1||``. Dette er lyset på Status Check-knappen på kofferten.\n\n```blocks\nradio.setGroup(1)\nradio.setTransmitPower(7)\nlet strip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\npins.digitalWritePin(DigitalPin.P15, 1)\n```\n\n## Del 2: @unplugged\n\n### Initialize\n\nVi skal lage en funksjon for kofferten som heter ``||functions: Initialize||``. \n\nFunksjonen skal kjøres hver gang vi skrur på ControllerPAD og hver gang vi rearmerer kofferten etter en oppskytning. \n\n``||functions: Initialize||`` sin oppgave er å nullstille rakettkofferten slik at alle systemer stilles tilbake eller skrus av.\n\n![Initialize.gif](https://i.postimg.cc/rFfWbdvN/Initialize.gif)\n\n\n## Del 2.1\n\n### Initialize oppsett: \n\nFor å kjøre oppstartsekvensen til RocketLink-M, må vi lage en funksjon som vi kaller: ``||functions: Initialize||``.\n\nDet er flere steder i koden vår vi skal kalle opp ``||functions: Initialize||``. Den første er i ``||basic: ved start||``.\n\n```blocks\nradio.setGroup(1)\nradio.setTransmitPower(7)\nlet strip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\npins.digitalWritePin(DigitalPin.P15, 1)\nInitialize()\nfunction Initialize () {\n\t\n}\n```\n\n## Del 2.2: \n\n### Initialize funksjon:\n\nDet første vi må gjøre inne i ``||functions: Initialize||`` er å lage 6 variabler: ``||variable: SelfStatus||``, ``||variable: LinkStatus||``, ``||variable: ArmStatus||``, ``||variable: IgniterStatusLP||``, ``||variable: ArmStatusLP||`` og ``||variable: Klar||``.\n\n``||variable: SelfStatus||`` sjekker om kofferten er på, ``||variable: LinkStatus||`` sjekker om det er kontakt med LaunchPAD, ``||variable: ArmStatus||`` sjekker om Arm-knappen er skrudd på, ``||variable: IgniterStatusLP||`` sjekker om raketten er koblet riktig til LaunchPAD, ``||variable: ArmStatusLP||`` sjekker om Arm-knappen er aktivert på LaunchPAD og ``||variable: Klar||`` sjekker om alle systemene på kofferten er på.\n\nSett alle disse 6 variablene til er være ``||logic: usann||``. \n\n| Variabel ||||| Status |\n|:---------|||||:------:|\n| SelfStatus ||||| Usann |\n| LinkStatus ||||| Usann |\n| ArmStatus ||||| Usann |\n| IgniterStatusLP ||||| Usann |\n| ArmStatusLP ||||| Usann |\n| Klar ||||| Usann |\n\n\n```blocks\nlet SelfStatus = false\nlet LinkStatus = false\nlet ArmStatus = false\nlet IgniterStatusLP = false\nlet ArmStatusLP = false\nlet Klar = false\nfunction Initialize () {\n\tSelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    IgniterStatusLP = false\n    ArmStatusLP = false\n    Klar = false\n}\n```\n\n## Del 2.3: \n\n### Initialize - NeoPixels:\n\nVidere inne i ``||functions: Initialize||`` skal vi teste lysene på NeoPixel strip. Sett alle lysene til å lyse lilla (``||neopixel: Purple||``).\n\n```blocks\nlet strip: neopixel.Strip = null\nlet SelfStatus = false\nlet LinkStatus = false\nlet ArmStatus = false\nlet IgniterStatusLP = false\nlet ArmStatusLP = false\nlet Klar = false\nfunction Initialize () {\n\tSelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    IgniterStatusLP = false\n    ArmStatusLP = false\n    Klar = false\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n}\n```\n\n## Del 2.4: \n\n### Initialize - animasjon:\n\nVi lager en liten animasjon på skjermen til micro:bit under oppstartsekvensen. Du kan velge selv hvordan den skal se ut. (Hint: Dette er kun et forslag.)\n\nEtter animasjonen skal alle lysene settes til å lyse Rødt (``||neopixel: Rød||``)\n\nAvslutt med en liten ``||basic: pause||`` på 200 ms.\n\n```blocks\nlet strip: neopixel.Strip = null\nlet SelfStatus = false\nlet LinkStatus = false\nlet ArmStatus = false\nlet IgniterStatusLP = false\nlet ArmStatusLP = false\nlet Klar = false\nfunction Initialize () {\n\tSelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    IgniterStatusLP = false\n    ArmStatusLP = false\n    Klar = false\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple)) \n    basic.showLeds(`\n    . . . . .\n    . . . . .\n    . . # . .\n    . . . . .\n    . . . . .\n    `)\n    basic.showLeds(`\n    . . . . .\n    . # # # .\n    . # . # .\n    . # # # .\n    . . . . .\n    `)\n    basic.showLeds(`\n    # # # # #\n    # . . . #\n    # . . . #\n    # . . . #\n    # # # # #\n    `)\n    basic.showLeds(`\n    # . . . #\n    # # . # #\n    # . # . #\n    # . . . #\n    # . . . #\n    `)\n    strip.showColor(neopixel.colors(NeoPixelColors.Red)) \n    basic.pause(200)\n}\n```\n\n## Del 2.5:\n\n### Teste Initialize!\n\n``||math: Last ned||`` koden på en micro:bit og sjekk at oppstartsekvensen kjøres på ControllerPAD-kofferten.\n\n## Del 2.6: @unplugged\n\n### Bytte Tutorial\n\nVi skal nå bytte veiledning, og starte å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n## Del 3: @unplugged \n\n### StatusCheck med NeoPixels\n\nVi skal fortsette på koden som styrer ControllerPAD.\n\nLage en funksjon for kofferten som heter ``||functions: StatusCheck||``. \n\nFunksjonen skal sjekke statusen til de forskjellige systemene på ControllerPAD. \n\nDen skal sjekke ett og ett system av gangen, og teste hvert system når det er ferdig. For vise status på systemene skal vi bruke NeoPixels i kofferten.\n\n![System-Status-Controller-PAD.gif](https://i.postimg.cc/Rh2GqPLT/System-Status-Controller-PAD.gif)\n\n\n## Del 3.1: \n\n### Sette opp NeoPixels\n\nVi skal bruke en ny funksjon, ``||functions: NeoPixels||``, for å vise hvilken status de forskjellige systemene på kofferten har. Denne skal kalles opp fra bunn av ``||functions: StatusCheck||``.\n\nVi skal inidividuelt sjekke opp variablene: ``||variable: SelfStatus||``, ``||variable: LinkStatus||``, ``||variable: IgniterStatusLP||``, ``||variable: ArmStatusLP||`` og ``||variable: Klar||``.\n\nLag 5 ``||logic: Hvis-betingelser||`` med ``||logic: Ellers hvis||``, en for hver variabel. Hvis den er ``||logic: sann||``, skal Neopixel settes til grønn, ellers skal den være rød.\n\nAvslutt med å vise lysene: ``||neopixel: show||``\n\n| Variabel ||||| NeoPixel nr. |\n|:---------|||||:------:|\n| SelfStatus ||||| 0 |\n| LinkStatus ||||| 1 |\n| IgniterStatusLP ||||| 2 |\n| ArmStatusLP ||||| 3 |\n| Klar ||||| 4 |\n\n```blocks\nlet strip: neopixel.Strip = null\nfunction NeoPixels () {\n    if (SelfStatus) {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (LinkStatus) {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (IgniterStatusLP) {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (ArmStatusLP) {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (Klar) {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Red))\n    }\n    strip.show()\n}\nfunction StatusCheck () {\n    NeoPixels()\n}\n```\n\n## Del 3.2:\n\n### StatusCheck oppsett med SelfStatus\n\nFor at systemet vårt hele tiden skal sjekke om det skjer noen status-endringer, trenger vi å lage en ny funksjon: ``||functions: StatusCheck||``.\n\nDenne funksjonen skal kalles opp fra ``||basic: gjenta for alltid||``.\n\nNår vi kjører gjennom ``||function: StatusCheck||``, vet vi at variabelen``||variable: SelfStatus||`` er ``||logic: sann||``. (Kofferten er jo på...)\n\n\n```blocks\nbasic.forever(function () {\n    StatusCheck()\n})\nfunction StatusCheck () {\n    SelfStatus = true\n}\n```\n\n## Del 3.3:\n\n### Teste Initialize!\n\n``||math: Last ned||`` koden på en micro:bit og sjekk at status-lysene funker som de skal på ControllerPAD-kofferten.\n\n\n## Del 3.4: @unplugged\n\n### Bytte Tutorial\n\nVi skal nå bytte veiledning, og fortsette å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n## Del 4: @unplugged\n\n### Sjekke Linkstatus mellom rakettkoffertene:\n\nFor å kunne sjekke link mellom koffertene må bruke noe som kalles for «active sensing». \n\nBegge koffertene sender en radiomelding mellom seg med gitte intervaller som sier «Hei, jeg er ikke avskrudd». Men vi trenger noe som sier ifra hvis det har gått for lang tid siden sist vi fikk en radiomelding fra den andre kofferten.\n\n![Radio-mellom-rakettkoffertene.gif](https://i.postimg.cc/nL4Rtr4R/Radio-mellom-rakettkoffertene.gif)\n\n\n## Del 4.1: \n\n### Sjekke om radio-kommunikasjon funker:\n\nLag en ny variabel: ``||variable: sistSettAktiv||``. \n\nInni en ``||radio:når radio mottar receivedNumber||``: Hver gang vi mottar ``||radio: receivedNumber = 11||``,sett ``||variable: LinkStatus||`` til ``||logic: sann||`` og ``||variable: sistSettAktiv||`` til ``||input: kjøretid (ms)||``. \n\nI en micro:bit, kjører det en intern klokke som heter ``||input: kjøretid (ms)||``. Ved å sette ``||variable: sistSettAktiv||`` lik ``||input: kjøretid (ms)||`` ved gitte intervaller, kan vi lett se om tidsforskjellen mellom ``||variable: sistSettAktiv||`` og ``||input: kjøretid (ms)||`` blir større enn 3x gitt tidsinterval.\n\n```blocks\nradio.onReceivedNumber(function (receivedNumber) {\n    if (receivedNumber == 11){\n        LinkStatus = true\n        sistSettAktiv = input.runningTime()\n    }\n})\n```\n\n## Del 4.2: \n\n### Lage en oppdateringsfrekvens:\n\nLag en variabel som du kaller ``||variable: oppdateringsfrekvens||``. Sett den inn under  ``||basic: ved start||``, og la den være 200 ms.\n\n```blocks\nlet strip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\nradio.setGroup(1)\nradio.setTransmitPower(7)\npins.digitalWritePin(DigitalPin.P15, 1)\nlet oppdateringsfrekvens = 200\n```\n\n\n## Del 4.3: \n\n### Sjekke om den andre kofferten er skrudd av: \n\nFor å finne ut om kofferten har sluttet å motta signal fra den andre kofferten, må vi lage en liten funksjon som vi setter inn i  ``||control: kjør i bakgrunnen||``. (Finner du i menuen: Styring)\n\nInni her skal vi lage en  ``||loops: while-løkke||``. Denne løkken vil kjøre så lenge kofferten er på.\n\nInni ``||loops: while-løkken||`` skal vi send tallet 10 med radio. \n\nNå skal vi sjekke om den ene av koffertene ikke mottar et signal på 3x ``||variabel: oppdateringsfrekvens||``. Hvis den er lengre enn det, kan den regne med at den andre kofferten er skrudd av.\n\nVi skal sjekke om ``||input: kjøretid (ms)||`` minus (-) ``||variabel: sistSettAktiv||`` er større enn (>) 3x ``||variabel: oppdateringsfrekvens||``\n\nHvis dette er sant, skal: \n\n-  ``||variabel: LinkStatus||`` settes til ``||logic: usann||``\n-  ``||variabel: IgniterStatusLP||`` settes til ``||logic: usann||``\n-  ``||variabel: ArmStatusLP||`` settes til ``||logic: usann||``\n\nUtenfor ``||logic: hvis-betingelsen||``, avslutt med en ``||basic: pause||`` lik ``||variabel: oppdateringsfrekvens||``.\n\n\n```blocks\ncontrol.inBackground(function () {\n    while (true) {\n        radio.sendNumber(11)\n        if (input.runningTime() - sistSettAktiv > 3 * oppdateringsfrekvens) {\n            LinkStatus = false\n            IgniterStatusLP = false\n            ArmStatusLP = false\n        }\n    basic.pause(oppdateringsfrekvens)\n    }\n})\n```\n\n## Del 4.4: @unplugged\n\n### Bytte Tutorial\n\nVi må bygge funksjonen for ``||variable: LinkStatus||`` på LaunchPAD for å kunne teste den.\n\nBytt veiledning, og fortsett å lage koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n\n## Del 5: @unplugged\n\n### Motta status fra LaunchPAD-kofferten og sette opp StatusCheck\n\nDet er to til statuser vi får fra LaunchPAD: ``||variabel: IgniterStatusLP||`` og ``||variabel: ArmStatusLP||``. (Disse to sjekker om igniterne er koblet ordentlig til raketten, og om Arm-knappen på LaunchPAD-kofferten er skrudd på.)\n\nVi skal nå sette opp hva som skal skje når vi mottar disse statusoppdateringene. \n\nVi skal også sette opp resten av funksjonene i StatusCheck.\n\n![Radio-mellom-rakettkoffertene.gif](https://i.postimg.cc/nL4Rtr4R/Radio-mellom-rakettkoffertene.gif)\n\n\n## Del 5.1: \n\n### Motta status på Igniter og Arm via radio\n\nVi må lage to ``||logic: Hvis-betingelse||`` med ``||logic: ellers hvis||`` som skal sjekket hver av disse statusene. \n\nSettes inn i ``||radio:når radio mottar receivedNumber||``:\n\n- Hvis ``||radio: receivedNumber = 21||``, er ``||variabel: IgniterStatusLP||`` ``||logic: sann||``. Ellers hvis ``||radio: receivedNumber = 22||``, er ``||variabel: IgniterStatusLP||`` ``||logic: usann||``.\n- Hvis ``||radio: receivedNumber = 31||``, er ``||variabel: ArmStatusLP||`` ``||logic: sann||``. Ellers hvis ``||radio: receivedNumber = 32||``, er ``||variabel: ArmStatusLP||`` ``||logic: usann||``.\n\n| Variabel | Radio Sann | Radio Usann |\n|:---------|:----------:|:-----------:|\n| IgniterStatusLP | 21 | 22 |\n| ArmStatusLP | 31 | 32 |\n\n```blocks\nradio.onReceivedNumber(function (receivedNumber) {\n    if (receivedNumber == 11){\n        LinkStatus = true\n        sistSettAktiv = input.runningTime()\n    }\n    if (receivedNumber == 21) {\n        IgniterStatusLP = true\n    } else if (receivedNumber == 22) {\n        IgniterStatusLP = false\n    }\n    if (receivedNumber == 31) {\n        ArmStatusLP = true\n    } else if (receivedNumber == 32) {\n        ArmStatusLP = false\n    }\n})\n```\n\n## Del 5.2: \n\n### StatusCheck - ArmStatus:\n\nVidere inni ``||function: StatusCheck||``, lag en ``||logic: hvis-betingelse||`` som skal lese av ``||pins: P1||`` (Arm-knappen). \n\n- Hvis ``||pins: P1||`` er lik 0, skal ``||variable: ArmStatus||`` settes til ``||logic: sann||``. Ellers skal ``||variable: ArmStatus||`` settes til ``||logic: usann||``.\n\n```blocks\nfunction StatusCheck () {\n\tSelfStatus = true\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    }\n}\n```\n\n## Del 5.3: \n\n### Fullføre StatusCheck\n\nFor å sjekke om alle systemene er klare for oppskytning, må vi lage en ``||logic: Hvis-betingelse||`` som sjekker om alle statusene vår er lik ``||logic: sann||``. Den skal settes inn i funksjonen ``||functions: StatusCheck||``.\n\nVi skal sjekke: ``||variable: SelfStatus||``, ``||variable: LinkStatus||``, ``||variable: ArmStatus||``, ``||variable: IgniterStatusLP||`` og ``||variable: ArmStatusLP||``.\n\nHvis alle statusene over er lik``||logic: sann||``, da skal ``||variable: Klar||`` settes lik ``||logic: sann||``. Eller lik ``||logic: usann||``. Legg ved et bilde på hvert at tilfellene for se om ``||variabel: Klar||`` er ``||logic: sann||`` eller ikke.\n\n```blocks\nfunction StatusCheck () {\n\tSelfStatus = true\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    }\n    if (SelvStatus && LinkStatus && ArmStatus && IgniterStatusLP && ArmStatusLP) {\n        Klar = true\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `)\n    } else {\n        Klar = false\n        basic.showLeds(`\n            # . . . #\n            # # . # #\n            # . # . #\n            # . . . #\n            # . . . #\n            `)\t\n    }\n}\n```\n\n## Del 5.4: \n\n### Oppdatere StatusCheck\n\nInni ``||basic: Gjenta for alltid||``:\n\nVi ønsker å kjøre en systemsjekk hver gang vi trykker ned knappen til System Status Check på kofferten. Når knappen trykkes ned, settes ``|pins: digital pin P5 ||`` til 0. \n\nSå hvis ``||pins: P5 = 0||``, skal alle NeoPixels bli ``||neopixel: røde||`` i 100 ms, og så skal vi kalle opp funksjonen ``||functions: StatusCheck||``.\n\n```blocks\nlet strip: neopixel.Strip = null\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n})\nfunction StatusCheck () {\n\t\n}\n```\n\n## Del 6: @unplugged\n\n### Oppskytning av raketten\n\nNå skal alle systemene på begge koffertene fungere, og vi er klare for å bygge funksjonene for å kunne skyte opp raketten!\n\n![Oppskytning-rakett-4.gif](https://i.postimg.cc/CxV5Qx0C/Oppskytning-rakett-4.gif)\n\n\n## Del 6.1: \n\n### Sette opp Launch-funksjon\n\nFor å kunne skyte opp raketten, trenger vi å lage en ny funksjonen som vi kaller ``||functions: Launch||``. \n\nI ``||basic: gjenta for alltid||`` skal vi lage en ``||logic: Hvis-betingelse||`` som sier at vi skal kalle opp funksjonen ``||functions: Launch||`` hvis ``||pins: skriver digital pin P11 = 0||``. \n\n```blocks\nlet strip: neopixel.Strip = null\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n})\nfunction StatusCheck () {\n\t\n}\nfunction Launch () {\n\t\n}\n```\n\n## Del 6.2: \n\n### Sende Launch-kommando:\n\nNår vi har trykket på Launch-knappen og satt ``||pins: skriver digital pin P11 = 0||``, hopper vi inn i ``||functions: Launch||``.\n\nLaunch-kommandoen inne i``||functions: Launch||`` skal kun få lov til å bli utført hvis ``||variabel: Klar||`` er ``||logic: sann||``.\n\nLag en pil på skjermen til microbiten for å vise at raketten blir skutt opp. Du må også sende en egen ``||radio: radio send tall||`` til LaunchPAD-kofferten. Vel et tall som ikke kan misforstås. Til slutt skal ``||variabel: Klar||`` settes til ``||logic: usann||``.\n\n```blocks\nfunction Launch () {\n    if (Klar) {\n\t    basic.showLeds(`\n        . . # . .\n        . # # # .\n        # . # . #\n        . . # . .\n        . . # . .\n        `)\n        radio.sendNumber(42)\n        Klar = false\n    }\n}\n```\n\n## Del 6.4: \n\n### Buzzer:\n\nFor å varsle at raketten skal skytes opp, skal en buzzer bli skrudd på når alle systemene er på og armerte.\n\nFor å få til dette må vi lage en liten ``||logic: Hvis-betingelse||`` inne i ``||basic: gjenta for alltid||`` som sier at ``||pins: P13||`` (Buzzer) og ``||pins: P14||`` (Launch Button LED) skal skrus på (settes til 1) når variabelen ``||variabel: Klar||`` er ``||logic: sann||``. Eller skal de skrus av (settes til 0).\n\n```blocks\nlet strip: neopixel.Strip = null\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n    if (Klar) {\n        pins.digitalWritePin(DigitalPin.P13, 1)\n        pins.digitalWritePin(DigitalPin.P14, 1) \n    } else {\n        pins.digitalWritePin(DigitalPin.P13, 0)\n        pins.digitalWritePin(DigitalPin.P14, 0)\n    }\n})\nfunction StatusCheck () {\n\t\n}\n```\n\n## Del 6.5: \n\n### BuzzerBlink-funksjon:\n\nEtter at raketten er skutt opp, skal vi få ``||pins: P13||`` (Buzzer) og ``||pins: P14||`` (Launch Button LED) til å tute og blinke 3 ganger.\n\nLag en ny funksjon: ``||functions: BuzzerBlink||``. Denne funksjonen skal kalles opp først inne i ``||functions: Launch||`` hvis ``||variabel: Klar||`` er ``||logic: sann||``.\n\nSett ``||pins: P13||`` og ``||pins: P14||`` til høy (1) og lav (0) 3 ganger, med 100 ms ``||basic: pause||`` mellom hver høy og lav.\n\n```blocks\nfunction BuzzerBlink () {\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n}\nfunction Launch () {\n    if (Klar) {\n        BuzzerBlink()\n        basic.showLeds(`\n            . . # . .\n            . # # # .\n            # . # . #\n            . . # . .\n            . . # . .\n            `)\n        radio.sendNumber(42)\n        Klar = false\n        Rearm()\n    }\n}\nfunction Rearm () {\n\t\n}\n```\n\n## Del 6.6: \n\n### Rearm av kofferten:\n\nNår vi har sendt opp raketten vår, skal vi ikke få lov til å sende opp en ny rakett før arm-bryteren er skrudd av igjen og systemet er resatt. \n\nFor å gjøre dette må vi lage en ny funksjon: ``||functions: Rearm||``. Den skal kalles opp fra bunnen i ``||functions: Launch||``.\n\nStart med å skru av lysene til NeoPixels. Så skal vi lage en ``||loops: while-løkke||`` som er aktiv så lange  ``||pins: digital pin P1 = 0||``.\n\nInni denne ``||loops: while-løkken||`` skal vi få skjermen på microbiten og Rearm LED til å blinke. Dette gjør vi ved å stru ``||pins: P8||`` AV (0) og PÅ (1), og få et leddlys på microbiten til å skru seg AV og PÅ.\n\n```blocks\nlet strip: neopixel.Strip = null\nfunction Rearm () {\n    strip.clear()\n    strip.show()\n    while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        pins.digitalWritePin(DigitalPin.P8, 0)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # . # .\n            . # # # .\n            . . . . .\n            `)\n        pins.digitalWritePin(DigitalPin.P8, 1)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # # # .\n            . # # # .\n            . . . . .\n            `)\n    }\n}\nfunction Launch () {\n    if (Klar) {\n\t    basic.showLeds(`\n        . . # . .\n        . # # # .\n        # . # . #\n        . . # . .\n        . . # . .\n        `)\n        radio.sendNumber(42)\n        Klar = false\n        Rearm()\n    }\n}\n```\n\n\n## Del 6.7: \n\n### Rearm-funksjonen etter rearmeringen:\n\nEtter at arm-knappen er skrudd av, vil vi hoppe ut av ``||loops: while-løkken||``. \n\nSkriv ``||pins:digital pin P8 = 0||``, sett NeoPixels til ``||neopixel: Purple||`` og ``||basic: tøm skjermen||`` til microbiten.\n\nAvslutt med en ``||basic: pause||`` i 200 ms. før vi kaller opp funksjonen ``||functions: Initialize||`` for å restarte rakett-kofferten.\n\n```blocks\nlet strip: neopixel.Strip = null\nfunction Rearm () {\n    strip.clear()\n    strip.show()\n    while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        pins.digitalWritePin(DigitalPin.P8, 0)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # . # .\n            . # # # .\n            . . . . .\n            `)\n        pins.digitalWritePin(DigitalPin.P8, 1)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # # # .\n            . # # # .\n            . . . . .\n            `)\n    }\n    pins.digitalWritePin(DigitalPin.P8, 0)\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n    basic.showLeds(`\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        `)\n    basic.pause(200)\n    Initialize()\n}\nfunction Initialize () {\n\t\n}\n```\n\n## Del 7: @unplugged\n\n### Bytte Tutorial\n\nControllerPAD er ferdig programmert!\n\nBytt veiledning, og fullfør koden til LaunchPAD-kofferten!\n\n![Launch-PAD.jpg](https://i.postimg.cc/Sxhw0Mck/Launch-PAD.jpg)\n\n## Del 7:\n\n### Gratulerer! Du er nå ferdig å programmere ControllerPAD! \n\n``||math: Last ned||`` koden på en micro:bit og sjekk at den fungerer som den skal.\n\n```blocks\nlet Klar = false\nlet ArmStatus = false\nlet SelfStatus = false\nlet ArmStatusLP = false\nlet IgniterStatusLP = false\nlet sistSettAktiv = 0\nlet LinkStatus = false\nlet strip: neopixel.Strip = null\nstrip = neopixel.create(DigitalPin.P0, 5, NeoPixelMode.RGB)\nradio.setGroup(1)\nradio.setTransmitPower(7)\npins.digitalWritePin(DigitalPin.P15, 1)\nlet oppdateringsfrekvens = 200\nInitialize()\nfunction Initialize () {\n    SelfStatus = false\n    LinkStatus = false\n    ArmStatus = false\n    Klar = false\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n    basic.showLeds(`\n        . . . . .\n        . . . . .\n        . . # . .\n        . . . . .\n        . . . . .\n        `)\n    basic.showLeds(`\n        . . . . .\n        . # # # .\n        . # . # .\n        . # # # .\n        . . . . .\n        `)\n    basic.showLeds(`\n        # # # # #\n        # . . . #\n        # . . . #\n        # . . . #\n        # # # # #\n        `)\n    basic.showLeds(`\n        # . . . #\n        # # . # #\n        # . # . #\n        # . . . #\n        # . . . #\n        `)\n    strip.showColor(neopixel.colors(NeoPixelColors.Red))\n    basic.pause(200)\n}\nbasic.forever(function () {\n    StatusCheck()\n    if (pins.digitalReadPin(DigitalPin.P5) == 0) {\n        strip.showColor(neopixel.colors(NeoPixelColors.Red))\n        basic.pause(100)\n        StatusCheck()\n    }\n    if (pins.digitalReadPin(DigitalPin.P11) == 0) {\n        Launch()\n    }\n    if (Klar) {\n        pins.digitalWritePin(DigitalPin.P13, 1)\n        pins.digitalWritePin(DigitalPin.P14, 1)\n    } else {\n        pins.digitalWritePin(DigitalPin.P13, 0)\n        pins.digitalWritePin(DigitalPin.P14, 0)\n    }\n    basic.pause(100)\n})\nfunction StatusCheck () {\n    SelfStatus = true\n    if (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        ArmStatus = true\n    } else {\n        ArmStatus = false\n    }\n    if (SelfStatus && LinkStatus && IgniterStatusLP && ArmStatusLP && ArmStatus) {\n        Klar = true\n        basic.showLeds(`\n            # . . . #\n            . # . # .\n            . . # . .\n            . # . # .\n            # . . . #\n            `)\n    } else {\n        Klar = false\n        basic.showLeds(`\n            # . . . #\n            # # . # #\n            # . # . #\n            # . . . #\n            # . . . #\n            `)\n    }\n    NeoPixels()\n}\nfunction NeoPixels () {\n    if (SelfStatus) {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(0, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (LinkStatus) {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(1, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (IgniterStatusLP) {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(2, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (ArmStatusLP) {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(3, neopixel.colors(NeoPixelColors.Red))\n    }\n    if (Klar) {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Green))\n    } else {\n        strip.setPixelColor(4, neopixel.colors(NeoPixelColors.Red))\n    }\n    strip.show()\n}\nradio.onReceivedNumber(function (receivedNumber) {\n    if (receivedNumber == 11) {\n        LinkStatus = true\n        sistSettAktiv = input.runningTime()\n    }\n    if (receivedNumber == 21) {\n        IgniterStatusLP = true\n    } else if (receivedNumber == 22) {\n        IgniterStatusLP = false\n    }\n    if (receivedNumber == 31) {\n        ArmStatusLP = true\n    } else if (receivedNumber == 32) {\n        ArmStatusLP = false\n    }\n})\nfunction Launch () {\n    if (Klar) {\n        BuzzerBlink()\n        basic.showLeds(`\n            . . # . .\n            . # # # .\n            # . # . #\n            . . # . .\n            . . # . .\n            `)\n        radio.sendNumber(42)\n        Klar = false\n        Rearm()\n    }\n}\nfunction Rearm () {\n    strip.clear()\n    strip.show()\n    while (pins.digitalReadPin(DigitalPin.P1) == 0) {\n        pins.digitalWritePin(DigitalPin.P8, 0)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # . # .\n            . # # # .\n            . . . . .\n            `)\n        pins.digitalWritePin(DigitalPin.P8, 1)\n        basic.showLeds(`\n            . . . . .\n            . # # # .\n            . # # # .\n            . # # # .\n            . . . . .\n            `)\n    }\n    pins.digitalWritePin(DigitalPin.P8, 0)\n    strip.showColor(neopixel.colors(NeoPixelColors.Purple))\n    basic.showLeds(`\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        . . . . .\n        `)\n    basic.pause(100)\n    Initialize()\n}\nfunction BuzzerBlink () {\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 1)\n    pins.digitalWritePin(DigitalPin.P14, 1)\n    basic.pause(100)\n    pins.digitalWritePin(DigitalPin.P13, 0)\n    pins.digitalWritePin(DigitalPin.P14, 0)\n}\ncontrol.inBackground(function () {\n    while (true) {\n        radio.sendNumber(11)\n        if (input.runningTime() - sistSettAktiv > 3 * oppdateringsfrekvens) {\n            LinkStatus = false\n            IgniterStatusLP = false\n            ArmStatusLP = false\n        }\n        basic.pause(oppdateringsfrekvens)\n    }\n})\n```\n\n\n```package\nneopixel=github:microsoft/pxt-neopixel#v0.7.3\n```\n","pxt.json":"{\n    \"name\": \"CanSat Øvinger - Tutorial\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"CanSat_ovinger_Tutorial.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1763456233361}